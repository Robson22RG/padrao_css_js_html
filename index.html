<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="/styles.css" />
    <script async>
      /*CONTROLE DE ALTURA */
      /*-----------------*/
      document.addEventListener("DOMContentLoaded", function () {
        let lastScrollPosition = window.scrollY;

        const body = document.body;
        const header = document.querySelector("header");
        const logo = document.querySelector("#header_logo-img");

        window.addEventListener("scroll", () => {
          const currentScrollPosition = window.scrollY;

          if (
            currentScrollPosition < lastScrollPosition &&
            currentScrollPosition > 300 &&
            screen.width > 900
          ) {
            /* Subiu a tela */
            header.classList.add("header_slide-in");
            header.classList.remove("header_slide-out");
            logo.classList.add("logo_header-reduzido");
            /*----------*/
          } else if (
            currentScrollPosition > lastScrollPosition &&
            currentScrollPosition > 300 &&
            screen.width > 900 &&
            header.classList.contains("header_slide-in")
          ) {
            /* Animações de transição, descendo a tela */
            header.classList.remove("header_slide-in");
            header.classList.add("header_slide-out");
            logo.classList.add("logo_header-reduzido");
            /*----------*/
          } else if (currentScrollPosition > 300) {
            /*situação de ajuste de header para volta */
            logo.classList.add("logo_header-reduzido");
            /*------------*/
          } else {
            /* Tela lá em cima */
            header.classList.remove("header_slide-in");
            logo.classList.remove("logo_header-reduzido");
            header.classList.remove("header_slide-in");
            /*----------*/
          }
          /* Passando valor */
          lastScrollPosition = currentScrollPosition;
        });

        /*Visibilidade de elementos */
        /*--------------------------*/
        /*--------------------------*/
        const observer = new IntersectionObserver(
          (objeto) => {
            objeto.forEach((entrada) => {
              if (entrada.isIntersecting) {
                entrada.target.classList.add("visible");
              } else {
                entrada.target.classList.remove("visible");
              }
            });
          },
          { threshold: 0.5 }
        );

        const isVisibleElements = document.querySelectorAll(".isVisible");

        isVisibleElements.forEach((element) => {
          observer.observe(element);
        });

        /*Paineis rotativos */
        /*-------------------*/
        /*-------------------*/
        const carousel = document.querySelector(".carousel");
        let currentPanelIndex = 0;
        let intervalId;
        const nextButton = document.getElementById("nextButton");
        const prevButton = document.getElementById("prevButton");
        const autoRotateCheckbox =
          document.getElementById("autoRotateCheckbox");

        function rotatePanels() {
          const comprimentoPainel = carousel.clientWidth;
          const tamanhoParaGirar = -currentPanelIndex * comprimentoPainel;
          carousel.style.transform = `translateX(${tamanhoParaGirar}px)`;
        }

        function nextPanel() {
          currentPanelIndex =
            (currentPanelIndex + 1) % carousel.children.length;
          rotatePanels();
        }

        function prevPanel() {
          currentPanelIndex =
            (currentPanelIndex - 1 + carousel.children.length) %
            carousel.children.length;
          rotatePanels();
        }

        nextButton.addEventListener("click", function () {
          clearInterval(intervalId);
          nextPanel();
          autoRotateCheckbox.checked = false;
          if (autoRotateCheckbox.checked) {
            intervalId = setInterval(nextPanel, 5000);
          }
        });

        prevButton.addEventListener("click", function () {
          clearInterval(intervalId);
          prevPanel();
          autoRotateCheckbox.checked = false;
        });

        autoRotateCheckbox.addEventListener("change", function () {
          if (this.checked) {
            intervalId = setInterval(nextPanel, 5000);
          } else {
            clearInterval(intervalId);
          }
        });

        // Iniciar a rotação automática inicialmente
        intervalId = setInterval(nextPanel, 5000);
      });
    </script>
  </head>
  <body>
    <!-- Header -->
    <header id="header" class="header">
      <div class="header_bloco fundo_01 centralizador_dispersivo">
        <div class="header_logo">
          <figure>
            <a href="#">
              <img
                class="header_logo"
                id="header_logo-img"
                src="logo-vitoratto-250x140.png"
                alt="imagem logo"
              />
            </a>
          </figure>
        </div>
        <!--BLOCO CONTATO--->
        <div class="header_grupo-contato">
          <div class="header_redes-sociais">
            <a href="">
              <i class="fas fa-phone"></i>
            </a>
            <a href="">
              <i class="fas fa-phone"></i>
            </a>
            <a href="">
              <i class="fas fa-phone"></i>
            </a>
            <a href="">
              <i class="fas fa-phone"></i>
            </a>
          </div>
          <div class="header_telefone-contato">
            <span> <i class="fas fa-phone"></i> (xx) xxxx -xxxx </span>
          </div>
        </div>
      </div>
      <nav class="centralizador fundo_03">
        <ul class="bloco centralizador_dispersivo">
          <button><a href="">teste1</a></button>
          <button><a href="">teste2</a></button>
          <button><a href="">teste3</a></button>
          <button><a href="">teste4</a></button>
          <button><a href="">teste5</a></button>
          <button><a href="">teste6</a></button>
        </ul>
      </nav>
    </header>
    <!--MAIN-->
    <main class="fundo_02">
      <section>
        <h1>Nossa História</h1>
        <div class="bloco corpo_longo-temporario">
          <div>
            <p>
              Lorem ipsum dolor sit, amet consectetur adipisicing elit.
              Repudiandae aspernatur ea quaerat. Ipsam molestias laudantium
              aliquid assumenda! Natus facere odio nobis laborum, neque, unde
              recusandae dicta, quas corporis iusto ad.
            </p>
          </div>
        </div>
        <div class="bloco corpo_longo-temporario">
          <div>
            <p>
              Lorem ipsum dolor sit, amet consectetur adipisicing elit.
              Quibusdam animi possimus quo perferendis distinctio ipsam vel
              nulla nihil? Commodi, inventore. Aliquam repellendus suscipit
              maxime nemo dolor dolorum error laboriosam corrupti?
            </p>
          </div>
        </div>
        <div class="bloco corpo_longo-temporario">
          <div>
            <p>
              Lorem ipsum dolor sit, amet consectetur adipisicing elit.
              Quibusdam animi possimus quo perferendis distinctio ipsam vel
              nulla nihil? Commodi, inventore. Aliquam repellendus suscipit
              maxime nemo dolor dolorum error laboriosam corrupti?
            </p>
          </div>
        </div>
        <div class="bloco corpo_longo-temporario">
          <div>
            <p>
              Lorem ipsum dolor sit, amet consectetur adipisicing elit.
              Quibusdam animi possimus quo perferendis distinctio ipsam vel
              nulla nihil? Commodi, inventore. Aliquam repellendus suscipit
              maxime nemo dolor dolorum error laboriosam corrupti?
            </p>
          </div>
        </div>
      </section>
    </main>
    <section class="desenvolvimento_de_efeitos">
      <div class="wrapper">
        <div id="slide_direita"></div>
      </div>
      <div class="wrapper">
        <div id="slide_baixo"></div>
      </div>
      <figure>
        <img
          class="fundo-vermelho isVisible"
          id="header_logo-img"
          src="logo-vitoratto-250x140.png"
          alt="imagem logo"
        />
      </figure>
    </section>
    <section class="desenvolvimento_de_efeitos">
      <div class="carousel-container">
        <div class="carousel">
          <div class="carousel-panel">Banner 1</div>
          <div class="carousel-panel">Banner 2</div>
          <div class="carousel-panel">Banner 3</div>
          <div class="carousel-panel">Banner 4</div>
          <div class="carousel-panel">Banner 5</div>
          <div class="carousel-panel">Banner 6</div>
          <div class="carousel-panel">Banner 7</div>
          <div class="carousel-panel">Banner 8</div>
          <div class="carousel-panel">Banner 9</div>
          <div class="carousel-panel">Banner 10</div>
          <div class="carousel-panel">Banner 11</div>
          <div class="carousel-panel">Banner 12</div>
        </div>
      </div>
      <button id="prevButton">Anterior</button>
      <button id="nextButton">Próximo</button>
      <input type="checkbox" checked id="autoRotateCheckbox" />
    </section>

    <article>
      <div class="faixa">
        <div class="bloco">
          <h2>Missão</h2>
          <p>
            Lorem ipsum dolor, sit amet consectetur adipisicing elit. Neque,
            commodi magnam impedit optio labore pariatur ab sed perspiciatis
            eaque, nisi deserunt amet alias vero numquam assumenda sit quasi
            explicabo autem.
          </p>
        </div>
      </div>
    </article>
    <footer>
      <div class="faixa">
        <div class="bloco footer_coluna-1">
          <nav class="footer_redes-sociais">
            <ul>
              <li><a href=""></a></li>
              <li><a href=""></a></li>
              <li><a href=""></a></li>
              <li><a href=""></a></li>
            </ul>
          </nav>
        </div>
        <div class="bloco footer_coluna-2">
          <span>&copy; 2023 - Projeto Integrador III</span>
          <p>Horarios:</p>
          <p>13:00 às 14:00</p>
        </div>
        <div class="bloco footer_coluna-3">
          <form id="form_mini" method="post">
            <p class="titulo-address">Mensagem:</p>
            <hr class="amarelo" />
            <input
              id="form_mini_nome"
              type="text"
              class="form_mini_input"
              size="50"
              placeholder=" nome"
              required=""
              title=""
            />
            <input
              id="form_mini_email"
              type="email"
              class="form_mini_input"
              size="30"
              placeholder=" e-mail"
              required=""
              title=""
            />
            <input
              id="form_mini_telefone"
              type="telefone"
              class="form_mini_input"
              size="20"
              placeholder=" telefone"
              required=""
            />
            <textarea
              id="form_mini_mensagem"
              name="form_mini_mensagem"
              class="form_mini_textarea"
              maxlength="1000"
              title="Utilize este campo para escrever detalhes sobre o contato!"
              placeholder="*Mensagem"
              required=""
            ></textarea>
            <input
              id="form_mini_cadastrar"
              type="submit"
              class="form_mini_submit"
              value="Enviar"
              onclick="return form_mini_submit(this)"
              title=""
            />
          </form>
        </div>
      </div>
    </footer>
  </body>
</html>
